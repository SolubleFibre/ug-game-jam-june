[gd_scene load_steps=9 format=3 uid="uid://dwrngc1od1182"]

[ext_resource type="PackedScene" uid="uid://bk0yfoujgaeps" path="res://Scenes/Game World/Sections/large_hall.tscn" id="1_ltegh"]
[ext_resource type="PackedScene" uid="uid://pkx16atb7mf8" path="res://Scenes/Game World/Sections/dark_pool.tscn" id="2_bqo8f"]
[ext_resource type="PackedScene" uid="uid://yysy482oswx2" path="res://Scenes/Player/player.tscn" id="2_jk7sn"]
[ext_resource type="PackedScene" uid="uid://dqwvh2fxx0nq4" path="res://Scenes/Systems/entity_mover.tscn" id="3_bqo8f"]
[ext_resource type="PackedScene" uid="uid://dv5ogk47lc0xq" path="res://Scenes/Player/entity.tscn" id="4_vkf2p"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_3xfaq"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0, 0, 0, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0, 0, 0, 1)
energy_multiplier = 0.0

[sub_resource type="Sky" id="Sky_a20rb"]
sky_material = SubResource("ProceduralSkyMaterial_3xfaq")

[sub_resource type="Environment" id="Environment_ltegh"]
background_mode = 2
sky = SubResource("Sky_a20rb")
tonemap_mode = 3
tonemap_white = 6.0
glow_enabled = true
volumetric_fog_enabled = true
volumetric_fog_density = 0.3
volumetric_fog_albedo = Color(0, 0, 0, 1)
volumetric_fog_emission = Color(0.113665, 0.113665, 0.113665, 1)
volumetric_fog_temporal_reprojection_enabled = false
adjustment_enabled = true

[node name="MainScene" type="Node3D"]

[node name="Pixelizer" type="SubViewportContainer" parent="."]
offset_right = 1920.0
offset_bottom = 1080.0
stretch = true
stretch_shrink = 3

[node name="SubViewport" type="SubViewport" parent="Pixelizer"]
handle_input_locally = false
size = Vector2i(640, 360)
render_target_update_mode = 4

[node name="WorldEnvironment" type="WorldEnvironment" parent="Pixelizer/SubViewport"]
environment = SubResource("Environment_ltegh")

[node name="MainHall" type="Node3D" parent="Pixelizer/SubViewport"]

[node name="LargeHall1" parent="Pixelizer/SubViewport/MainHall" instance=ExtResource("1_ltegh")]

[node name="LargeHall2" parent="Pixelizer/SubViewport/MainHall" instance=ExtResource("1_ltegh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 0, 0)

[node name="LargeHall3" parent="Pixelizer/SubViewport/MainHall" instance=ExtResource("1_ltegh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12, 0, 0)

[node name="DarkPool" parent="Pixelizer/SubViewport/MainHall" instance=ExtResource("2_bqo8f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24, 0, 0)

[node name="Player" parent="Pixelizer/SubViewport" instance=ExtResource("2_jk7sn")]

[node name="EntityMover" parent="Pixelizer/SubViewport" node_paths=PackedStringArray("entity") instance=ExtResource("3_bqo8f")]
entity = NodePath("Entity")
move_delay = 10.0
move_now = false
range_x = 18.0
range_z = 5.0

[node name="Entity" parent="Pixelizer/SubViewport/EntityMover" instance=ExtResource("4_vkf2p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.41973, 0, -2.50417)
disappear_time = 0.25
